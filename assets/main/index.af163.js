window.__require=function e(t,o,n){function i(l,a){if(!o[l]){if(!t[l]){var c=l.split("/");if(c=c[c.length-1],!t[c]){var s="function"==typeof __require&&__require;if(!a&&s)return s(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+l+"'")}l=c}var h=o[l]={exports:{}};t[l][0].call(h.exports,function(e){return i(t[l][1][e]||e)},h,h.exports,e,t,o,n)}return o[l].exports}for(var r="function"==typeof __require&&__require,l=0;l<n.length;l++)i(n[l]);return i}({GameData:[function(e,t,o){"use strict";cc._RF.push(t,"24530x0Y3lH8I2noCZ6892j","GameData"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0,o.GameData={elementfile:null,elementNodePool:null,curLevel:1,elementWidth:85,line_hengPool:null,line_shuPool:null,gamestart:!1,totalLevel:100,curScore:0},cc._RF.pop()},{}],GameManager:[function(e,t,o){"use strict";cc._RF.push(t,"e7ea2rBdA9KX4BL7U6hh1uj","GameManager");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mainLayer=null,t.gameLayer=null,t.pauseLayer=null,t.levelLayer=null,t.successLayer=null,t.failLayer=null,t.main=null,t.game=null,t.pause=null,t.level=null,t.success=null,t.fail=null,t.isCanGame=!1,t}return n(t,e),t.prototype.onLoad=function(){cc.resources.load("llk_ys",cc.SpriteAtlas,function(e,t){e?cc.log("err ===  ",e):r.GameData.elementfile=t}),this.gotoMain()},t.prototype.start=function(){},t.prototype.gotoGame=function(){this.isCanGame=!0,r.GameData.elementfile&&(this.removeAllLayer(),this.isCanGame=!1,this.game=cc.instantiate(this.gameLayer),this.node.addChild(this.game),this.game.getComponent("gameLayer").init())},t.prototype.gotoMain=function(){this.removeAllLayer(),this.main=cc.instantiate(this.mainLayer),this.node.addChild(this.main)},t.prototype.gotoLevel=function(){this.removeAllLayer(),this.level=cc.instantiate(this.levelLayer),this.node.addChild(this.level)},t.prototype.getPause=function(){this.pause=cc.instantiate(this.pauseLayer),this.node.addChild(this.pause)},t.prototype.getSuccess=function(){this.success=cc.instantiate(this.successLayer),this.node.addChild(this.success),this.success.getComponent("resultLayer").init(this.game)},t.prototype.getFail=function(){this.fail=cc.instantiate(this.failLayer),this.node.addChild(this.fail),this.fail.getComponent("resultLayer").init(this.game)},t.prototype.removeAllLayer=function(){this.game&&(this.game.destroy(),this.game=null),this.main&&(this.main.destroy(),this.main=null),this.pause&&(this.pause.destroy(),this.pause=null),this.level&&(this.level.destroy(),this.level=null)},i([c(cc.Prefab)],t.prototype,"mainLayer",void 0),i([c(cc.Prefab)],t.prototype,"gameLayer",void 0),i([c(cc.Prefab)],t.prototype,"pauseLayer",void 0),i([c(cc.Prefab)],t.prototype,"levelLayer",void 0),i([c(cc.Prefab)],t.prototype,"successLayer",void 0),i([c(cc.Prefab)],t.prototype,"failLayer",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameData":"GameData"}],bAction:[function(e,t,o){"use strict";cc._RF.push(t,"cff7cdRwQVNk7yjteazyJIA","bAction"),cc.Class({extends:cc.Component,properties:{idleAction:null},onLoad:function(){this.init()},init:function(){var e=this;this.idleAction&&(this.idleAction.stop(),this.idleAction=null),this.node.scale=0,cc.tween(this.node).to(.1,{scale:1.2}).parallel(cc.tween().to(.2,{scaleX:1.1,scaleY:.8}).to(.1,{scale:1}),cc.tween().to(.05,{skewY:6}).to(.1,{skewY:-5}).to(.05,{skewY:0})).call(function(){e.idleAct()}).start()},idleAct:function(){this.idleAction=cc.tween(this.node).repeatForever(cc.tween().to(.4,{scaleX:1.05,scaleY:.95}).to(.5,{scaleX:.98,scaleY:1.05}).to(.4,{scaleX:1,scaleY:1})).start()}}),cc._RF.pop()},{}],elementFactory:[function(e,t,o){"use strict";cc._RF.push(t,"c5ce7j6RNhCsJEMKKvOYD9I","elementFactory");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.element=null,t.line_heng=null,t.line_shu=null,t.rowNum=10,t.colNum=8,t.elementArray=[],t.elementTypeNum=0,t.elementMap=[],t.totalMap=[],t.selectedEle=null,t.curSelect=null,t.linkCellNode=[],t.linkNodeArray=[],t.lineNum=10,t.lineHideTime=0,t.lineHideTotalTime=.2,t}return n(t,e),t.prototype.onLoad=function(){if(this.elementTypeNum=5,!r.GameData.elementNodePool){r.GameData.elementNodePool=new cc.NodePool;for(var e=0;e<80;e++){var t=cc.instantiate(this.element);r.GameData.elementNodePool.put(t)}}this.node.on(cc.Node.EventType.TOUCH_START,this.touchStart,this),r.GameData.line_hengPool||(r.GameData.line_hengPool=new cc.NodePool),r.GameData.line_shuPool||(r.GameData.line_shuPool=new cc.NodePool);for(e=0;e<this.lineNum;e++){var o=cc.instantiate(this.line_heng);r.GameData.line_hengPool.put(o);var n=cc.instantiate(this.line_shu);r.GameData.line_shuPool.put(n)}},t.prototype.init=function(e){for(var t=0,o=0;o<e.length;o++)if(e[o]){t++;var n={index:o};this.elementMap.push(n)}var i=t||80;this.totalMap.length=this.rowNum*this.colNum;for(o=0;o<i/2;o++){var r=Math.floor(Math.random()*this.elementTypeNum)+1,l=Math.floor(Math.random()*this.elementMap.length);this.getElement(this.elementMap[l].index,r),this.elementMap.splice(l,1);var a=Math.floor(Math.random()*this.elementMap.length);this.getElement(this.elementMap[a].index,r),this.elementMap.splice(a,1)}},t.prototype.getElement=function(e,t){var o,n=(o=r.GameData.elementNodePool&&r.GameData.elementNodePool.size()>0?r.GameData.elementNodePool.get():cc.instantiate(this.element)).getComponent("gameElement");n.init(t);var i=this.getrowByIndex(e),l=this.getcolByIndex(e);o.x=l*r.GameData.elementWidth+r.GameData.elementWidth/2-this.node.width/2,o.y=i*r.GameData.elementWidth+r.GameData.elementWidth/2-this.node.height/2,this.node.addChild(o),this.elementArray.push(o);var a=this.getIndexByPos(o.x,o.y);n.setLabel(a),this.totalMap[a]=this.elementArray.length-1},t.prototype.getNodeCellByIndex=function(e){var t={row:0,col:0};return t.row=this.getrowByIndex(e),t.col=this.getcolByIndex(e),t},t.prototype.getrowByIndex=function(e){return Math.floor(e/this.colNum)},t.prototype.getcolByIndex=function(e){return e%this.colNum},t.prototype.getIndex=function(e,t){return e*this.colNum+t},t.prototype.getIndexByPos=function(e,t){var o=Math.floor((e+this.node.width/2)/r.GameData.elementWidth),n=Math.floor((t+this.node.height/2)/r.GameData.elementWidth);return this.getIndex(n,o)},t.prototype.getPos=function(e){var t={x:0,y:0};return t.x=e.col*r.GameData.elementWidth+r.GameData.elementWidth/2-this.node.width/2,t.y=e.row*r.GameData.elementWidth+r.GameData.elementWidth/2-this.node.height/2,t},t.prototype.hideCell=function(e){if(this.elementArray.indexOf(e)>-1){this.elementArray[this.elementArray.indexOf(e)]=void 0;var t=this.getIndexByPos(e.x,e.y);this.totalMap[t]=void 0,r.GameData.elementNodePool.put(e)}},t.prototype.touchStart=function(e){var t=e.getLocation();t=this.node.convertToNodeSpaceAR(t);var o=this.getIndexByPos(t.x,t.y),n=this.totalMap[o];if(void 0!=n){var i=this.elementArray[n];if(this.selectedEle){if(this.linkCellNode=[],this.selectedEle==i)return;l=this.selectedEle.getComponent("gameElement");var r=i.getComponent("gameElement");if(r.type==l.type&&this.canLink(this.selectedEle,i))cc.log("this.linkCellNode.length --------  ",this.linkCellNode),this.hideLine(),this.showAllLine(),this.hideCell(i),this.hideCell(this.selectedEle),l.destroySelf(),r.destroySelf(),this.selectedEle=null,0==this.curCellNum()&&this.gameover();else this.selectedEle.getComponent("gameElement").selectedCell(!1),this.selectedEle=i,this.selectedEle.getComponent("gameElement").selectedCell(!0)}else{var l;this.selectedEle=i,(l=this.selectedEle.getComponent("gameElement")).selectedCell(!0)}}},t.prototype.canLink=function(e,t){if(e){var o=this.getIndexByPos(t.x,t.y),n=this.getNodeCellByIndex(o),i=this.getIndexByPos(e.x,e.y),r=this.getNodeCellByIndex(i);if(this.linkCellNode=[],this.oneLineLink(n,r))return!0;if(this.linkCellNode=[],this.twoLineLink(n,r))return!0;if(this.linkCellNode=[],this.threeLineLink(n,r))return!0}return!1},t.prototype.oneLineLink=function(e,t){this.linkCellNode.push([]);var o=this.linkCellNode.length-1;if(cc.log("one     ----------   ",o,this.linkCellNode),e.row==t.row){var n=Math.min(t.col,e.col),i=Math.max(t.col,e.col);this.insertLinkCell(e,o);for(var r=n+1;r<i;r++){var l=this.getIndex(t.row,r);if(this.insertLinkCell({row:t.row,col:r},o),!this.isOutWide({row:t.row,col:r})&&void 0!=this.totalMap[l])return this.linkCellNode.splice(o,1),!1}return this.insertLinkCell(t,o),!0}if(e.col==t.col){var a=Math.min(t.row,e.row),c=Math.max(t.row,e.row);this.insertLinkCell(e,o);for(r=a+1;r<c;r++){l=this.getIndex(r,t.col);if(this.insertLinkCell({row:r,col:t.col},o),!this.isOutWide({row:r,col:t.col})&&void 0!=this.totalMap[l])return this.linkCellNode.splice(o,1),!1}return this.insertLinkCell(t,o),!0}return this.linkCellNode.splice(o,1),!1},t.prototype.twoLineLink=function(e,t){if(cc.log("twoLineLink      curNode ======  ",e.row,e.col,t.row,t.col),e.row==t.row||e.col==t.col)return!1;var o=Math.min(t.row,e.row),n=Math.max(t.row,e.row),i=Math.min(t.col,e.col),r=Math.max(t.col,e.col),l=!0,a=!0,c=!0,s=!0,h=this.getIndex(o,i),p=this.getIndex(n,r),u=this.getIndex(o,r),d=this.getIndex(n,i);if(cc.log(" -midRow,maxRow,---------   ",o,n,i,r),this.isOutWide({row:o,col:i})||void 0==this.totalMap[h]||(l=!1),this.isOutWide({row:n,col:r})||void 0==this.totalMap[p]||(a=!1),this.isOutWide({row:o,col:r})||void 0==this.totalMap[u]||(c=!1),this.isOutWide({row:n,col:i})||void 0==this.totalMap[d]||(s=!1),cc.log("isNoCell3 || !isNoCell4   =====       ",c,s,l,a),e.row>t.row&&e.col>t.col||e.row<t.row&&e.col<t.col){if(c&&this.oneLineLink({row:o,col:r},e)&&this.oneLineLink({row:o,col:r},t))return!0;if(s&&this.oneLineLink({row:n,col:i},e)&&this.oneLineLink({row:n,col:i},t))return!0}else{if(l&&this.oneLineLink({row:o,col:i},e)&&this.oneLineLink({row:o,col:i},t))return!0;if(a&&this.oneLineLink({row:n,col:r},e)&&this.oneLineLink({row:n,col:r},t))return!0}return!1},t.prototype.threeLineLink=function(e,t){var o=0,n=e.col,i=e.row;cc.log("linkCellNode =============   ",this.linkCellNode),this.linkCellNode.push([]);var r=this.linkCellNode.length-1;this.linkCellNode[r].push(e);for(var l=n-1;l>=-1;l--){var a={row:e.row,col:l};if(this.insertLinkCell(a,r),o=this.checkThree(a,t),cc.log("111111111111         ==  ",o,this.linkCellNode),1==o)return cc.log("this.linkCellNode[curLen] ------1111111111-------  ",this.linkCellNode),!0;this.linkCellNode[r]=[e];break}for(l=n+1;l<=this.colNum;l++){a={row:e.row,col:l};if(this.insertLinkCell(a,r),1==(o=this.checkThree(a,t)))return cc.log("this.linkCellNode[curLen] ------222222222222-------  ",this.linkCellNode),!0;this.linkCellNode[r]=[e];break}for(l=i-1;l>=-1;l--){a={row:l,col:e.col};if(cc.log("tmpNode ---------------  ",a,r),this.insertLinkCell(a,r),o=this.checkThree(a,t),cc.log("333333333333         ==  ",o),1==o)return cc.log("this.linkCellNode[curLen] ------333333333333-------  ",this.linkCellNode),!0;this.linkCellNode[r]=[e];break}for(l=i+1;l<=this.rowNum;l++){a={row:l,col:e.col};if(this.insertLinkCell(a,r),o=this.checkThree(a,t),cc.log("44444444444         ==  ",o),1==o)return cc.log("this.linkCellNode[curLen] ------4444444444444444-------  ",this.linkCellNode),!0;this.linkCellNode[r]=[e];break}return!1},t.prototype.checkThree=function(e,t){var o=0,n=this.getIndex(e.row,e.col);return this.isOutWide(e)||void 0==this.totalMap[n]?this.twoLineLink(e,t)&&(o=1):o=-1,o},t.prototype.isOutWide=function(e){return e.row<0||e.row>=this.rowNum||e.col>=this.colNum||e.col<0},t.prototype.insertLinkCell=function(e,t){for(var o=0,n=this.linkCellNode[t];o<n.length;o++){var i=n[o];if(i.col==e.col&&i.row==e.row)return}this.linkCellNode[t].push(e)},t.prototype.showAllLine=function(){for(var e=0,t=this.linkCellNode;e<t.length;e++){var o=t[e];if(o.length>=2){o.sort(function(e,t){return e.row>t.row?1:e.col>t.col?1:-1});for(var n=0;n<=o.length-2;n++){var i=o[n],r=o[n+1],l=this.getPos(i);this.compareLine(i,r,l)}}}},t.prototype.compareLine=function(e,t,o){return e.row==t.row?(e.col<t.col?o.x+=r.GameData.elementWidth/2:o.x-=r.GameData.elementWidth/2,this.getLine(0,o),!0):e.col==t.col&&(e.row<t.row?o.y+=r.GameData.elementWidth/2:o.y-=r.GameData.elementWidth/2,this.getLine(1,o),!0)},t.prototype.getLine=function(e,t){var o,n=0==e?r.GameData.line_hengPool:r.GameData.line_shuPool,i=0==e?this.line_heng:this.line_shu;(o=n&&n.size()>0?n.get():cc.instantiate(i)).type=e,o.x=t.x,o.y=t.y,this.node.addChild(o,100),this.linkNodeArray.push(o)},t.prototype.hideLine=function(){for(var e=0,t=this.linkNodeArray;e<t.length;e++){var o=t[e];0==o.type?r.GameData.line_hengPool.put(o):r.GameData.line_shuPool.put(o)}this.linkNodeArray=[]},t.prototype.update=function(e){this.linkNodeArray.length>0&&(this.lineHideTime>this.lineHideTotalTime?(this.hideLine(),this.lineHideTime=0):this.lineHideTime+=e)},t.prototype.curCellNum=function(){for(var e=0,t=0,o=this.elementArray;t<o.length;t++){o[t]&&e++}return e},t.prototype.gameover=function(){},t.prototype.removeAllNode=function(){for(var e=0,t=this.elementArray;e<t.length;e++){var o=t[e];o&&r.GameData.elementNodePool.put(o)}this.elementArray=[],this.totalMap=[]},t.prototype.findPair=function(){for(var e=0;e<this.elementArray.length-1;e++){var t=this.elementArray[e];if(t)for(var o=t.getComponent("gameElement"),n=e+1;n<this.elementArray.length;n++){var i=this.elementArray[n];if(i){var r=i.getComponent("gameElement");if(o.type==r.type&&this.canLink(t,i))return this.hideLine(),this.showAllLine(),this.hideCell(i),this.hideCell(t),r.destroySelf(),o.destroySelf(),this.selectedEle=null,void(0==this.curCellNum()&&this.gameover())}}}},i([c(cc.Prefab)],t.prototype,"element",void 0),i([c(cc.Prefab)],t.prototype,"line_heng",void 0),i([c(cc.Prefab)],t.prototype,"line_shu",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameData":"GameData"}],gameElement:[function(e,t,o){"use strict";cc._RF.push(t,"1d794EqnOdMxradO8Os8eJX","gameElement");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.selectFlag=null,t.label=null,t.type=0,t}return n(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.init=function(e){this.type=e,this.sprite&&(this.sprite.spriteFrame=r.GameData.elementfile.getSpriteFrame("f"+this.type)),this.selectedCell(!1)},t.prototype.selectedCell=function(e){this.selectFlag&&(this.selectFlag.active=e)},t.prototype.setLabel=function(e){this.label&&(this.label.string=e)},t.prototype.destroySelf=function(){r.GameData.elementNodePool?r.GameData.elementNodePool.put(this.node):this.node.destroy(),r.GameData.curScore+=10},i([c(cc.Sprite)],t.prototype,"sprite",void 0),i([c(cc.Node)],t.prototype,"selectFlag",void 0),i([c(cc.Label)],t.prototype,"label",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameData":"GameData"}],gameLayer:[function(e,t,o){"use strict";cc._RF.push(t,"05b8epwYzdN6r8mLmdY+cT3","gameLayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=e("./levelConfig"),a=cc._decorator,c=a.ccclass,s=a.property,h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeBar=null,t.elemetFactory=null,t.curTime=null,t.totalTime=null,t.minScore=null,t.elemetFactoryCom=null,t.parentCom=null,t}return n(t,e),t.prototype.start=function(){},t.prototype.init=function(){this.curTime=0,r.GameData.curScore=0,cc.log("GameData.curLevel ------  ",r.GameData.curLevel);var e=l.levelconfig[r.GameData.curLevel-1]||l.defaultcon,t=e.array;this.totalTime=e.time,this.minScore=e.minScore,this.timeBar.progress=this.curTime/this.totalTime,this.elemetFactoryCom=this.elemetFactory.getComponent("elementFactory"),this.elemetFactoryCom.init(t),r.GameData.gamestart=!0,this.parentCom=this.node.parent.getComponent("GameManager")},t.prototype.update=function(e){r.GameData.gamestart&&(this.curTime>this.totalTime?this.gameOver():(this.curTime+=e,this.timeBar.progress=this.curTime/this.totalTime))},t.prototype.gameOver=function(){r.GameData.gamestart=!1,r.GameData.curScore>=this.minScore?this.parentCom.getSuccess():this.parentCom.getFail()},t.prototype.btn_pause=function(){r.GameData.gamestart=!1,this.parentCom.getPause()},t.prototype.btn_refresh=function(){this.elemetFactoryCom.removeAllNode(),this.init()},t.prototype.btn_tips=function(){this.elemetFactoryCom.findPair()},i([s(cc.ProgressBar)],t.prototype,"timeBar",void 0),i([s(cc.Node)],t.prototype,"elemetFactory",void 0),t=i([c],t)}(cc.Component);o.default=h,cc._RF.pop()},{"./GameData":"GameData","./levelConfig":"levelConfig"}],levelConfig:[function(e,t,o){"use strict";cc._RF.push(t,"e057f/wDspMYZvMw5v3QyoL","levelConfig"),Object.defineProperty(o,"__esModule",{value:!0}),o.defaultcon=o.levelconfig=void 0;o.levelconfig=[{array:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,1,1],time:5,minScore:100,firststar:120,secondstar:150,thirdstar:200},{array:[0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],time:10,minScore:100,firststar:120,secondstar:150,thirdstar:200}];o.defaultcon={array:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],time:10,minScore:100},cc._RF.pop()},{}],levelLayer:[function(e,t,o){"use strict";cc._RF.push(t,"02ec7ozP35CirSBe0NHmigH","levelLayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageview=null,t.levelNode=null,t.pageNum=null,t.curCreate=0,t.levelwidth=100,t.edgeWidth=70,t.edgeHeight=100,t.gapWidth=t.levelwidth/5,t.widthNum=0,t.heightNum=0,t.parentCom=null,t}return n(t,e),t.prototype.start=function(){this.parentCom=this.node.parent.getComponent("GameManager"),this.widthNum=Math.floor((this.pageview.node.width-2*this.edgeWidth+this.levelwidth)/(this.levelwidth+this.gapWidth)),this.heightNum=Math.floor((this.pageview.node.height-2*this.edgeHeight+this.levelwidth)/(this.levelwidth+this.gapWidth)),this.pageNum=Math.ceil(r.GameData.totalLevel/(this.widthNum*this.heightNum)),cc.log("this.pageNum -----------  ",this.pageNum,this.widthNum*this.heightNum)},t.prototype.update=function(e){this.curCreate<this.pageNum&&(this.creatPage(),this.curCreate++)},t.prototype.creatPage=function(){var e=new cc.Node;e.width=720,e.height=1e3;for(var t=this.gapWidth+this.levelwidth,o=this.gapWidth+this.levelwidth,n=0;n<this.widthNum*this.heightNum;n++){var i=cc.instantiate(this.levelNode),r=i.getComponent("levelNode");i.x=-this.pageview.node.width/2+this.edgeWidth+this.levelwidth/2+n%this.widthNum*t,i.y=this.pageview.node.height/2-this.edgeHeight-this.levelwidth/2-Math.floor(n/this.widthNum)*o,e.addChild(i),r.init(this.curCreate*this.widthNum+n+1,this)}this.pageview.addPage(e)},t.prototype.gotoGame=function(e){r.GameData.curLevel=e,cc.log("GameData.curLevel ------------  ",r.GameData.curLevel),this.parentCom.gotoGame()},i([c(cc.PageView)],t.prototype,"pageview",void 0),i([c(cc.Prefab)],t.prototype,"levelNode",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameData":"GameData"}],levelNode:[function(e,t,o){"use strict";cc._RF.push(t,"9d698Icr+9HVrNdi3xGi8Wn","levelNode");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,l=r.ccclass,a=r.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.starArray=[],t.level=null,t.lockBg=null,t.starSprite=null,t.maxLevel=null,t.selfLevel=null,t.parentCom=null,t}return n(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.touchstart,this)},t.prototype.start=function(){},t.prototype.init=function(e,t){if(this.maxLevel=cc.sys.localStorage.getItem("maxLevel")||1,this.selfLevel=e,this.parentCom=t,this.level.string=String(e),this.maxLevel<e)this.lockBg.active=!0;else{this.lockBg.active=!1;var o=cc.sys.localStorage.getItem("level_"+e)||0;this.starSprite.spriteFrame=this.starArray[o]}},t.prototype.touchstart=function(e){this.maxLevel>=this.selfLevel&&this.parentCom.gotoGame(this.selfLevel)},i([a([cc.SpriteFrame])],t.prototype,"starArray",void 0),i([a(cc.Label)],t.prototype,"level",void 0),i([a(cc.Node)],t.prototype,"lockBg",void 0),i([a(cc.Sprite)],t.prototype,"starSprite",void 0),t=i([l],t)}(cc.Component);o.default=c,cc._RF.pop()},{}],mainLayer:[function(e,t,o){"use strict";cc._RF.push(t,"b57ceL0LQFGfqxfK4PHjb5G","mainLayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parentCom=null,t}return n(t,e),t.prototype.start=function(){this.parentCom=this.node.parent.getComponent("GameManager")},t.prototype.gameStart=function(){r.GameData.curLevel=1,this.parentCom.gotoLevel()},t=i([a],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./GameData":"GameData"}],pauseLayer:[function(e,t,o){"use strict";cc._RF.push(t,"f8fc9cnBShNLoXxvTssyhhk","pauseLayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.parentCom=null,t}return n(t,e),t.prototype.start=function(){this.parentCom=this.node.parent.getComponent("GameManager")},t.prototype.continue=function(){r.GameData.gamestart=!0,this.node.destroy()},t.prototype.quit=function(){this.parentCom.gotoMain()},t=i([a],t)}(cc.Component));o.default=c,cc._RF.pop()},{"./GameData":"GameData"}],resultLayer:[function(e,t,o){"use strict";cc._RF.push(t,"2d2f2M+Uy9EFI/XGWMaepNV","resultLayer");var n=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=this&&this.__decorate||function(e,t,o,n){var i,r=arguments.length,l=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,o,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(l=(r<3?i(l):r>3?i(t,o,l):i(t,o))||l);return r>3&&l&&Object.defineProperty(t,o,l),l};Object.defineProperty(o,"__esModule",{value:!0});var r=e("./GameData"),l=cc._decorator,a=l.ccclass,c=l.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.parentCom=null,t.gameLayerCom=null,t}return n(t,e),t.prototype.start=function(){this.parentCom=this.node.parent.getComponent("GameManager")},t.prototype.init=function(e){this.gameLayerCom=e.getComponent("gameLayer"),this.label&&(this.label.string=String(r.GameData.curScore))},t.prototype.btn_home=function(){this.parentCom.gotoMain()},t.prototype.btn_restart=function(){this.node.destroy(),this.gameLayerCom.btn_refresh()},t.prototype.btn_next=function(){r.GameData.curLevel++,this.gameLayerCom.btn_refresh(),this.node.destroy()},i([c(cc.Label)],t.prototype,"label",void 0),t=i([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{"./GameData":"GameData"}]},{},["bAction","GameData","GameManager","elementFactory","gameElement","gameLayer","levelConfig","levelLayer","levelNode","mainLayer","pauseLayer","resultLayer"]);